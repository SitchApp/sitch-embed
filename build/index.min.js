"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initializeSitchButtons=void 0;var _sitch_reinitializeButtons=null,initializeSitchButtons=function(t){if(void 0===t&&(t=999999),_sitch_reinitializeButtons)_sitch_reinitializeButtons();else{var e=window,n=function(){document.documentElement.style.setProperty("--_sitch_max-content-width","100vw"),document.documentElement.style.setProperty("--_sitch_negative-max-content-width","-100vw");var n=document.createElement("div");n.id="_sitch_embed",n.innerHTML='\n        <div id="_sitch_full-screen-dimmer"></div>                                 \n        <div id="_sitch_iframe-container">\n          <div id="_sitch_loading-spinner-container">\n            <div id="_sitch_loader">Loading...</div>\n          </div>\n          <iframe id="_sitch_iframe" src=""></iframe>                                      \n        </div>        \n      ',document.body.appendChild(n);var i=document.head,o=document.createElement("style");o.innerText="\n          body._sitch_show {\n            height: 100vh !important;\n            overflow-y: hidden !important;\n            padding-right: 15px;\n          }\n          #_sitch_full-screen-dimmer {\n            position: absolute;\n            z-index: "+(t-1)+";\n            width: 100vw;\n            height: 100vh;\n            top: 0;\n            left: 0;\n            background-color: rgba(0, 0, 0, 0.5);\n            display: none;\n          }\n          #_sitch_embed._sitch_show #_sitch_full-screen-dimmer {\n            display: block;\n            position: fixed;\n          }          \n          #_sitch_iframe-container {    \n            background-color: #ededf7;        \n            transition: all 200ms ease-in;                                             \n            z-index: "+t+";\n            position: fixed;\n            top: 0;            \n            right: var(--_sitch_negative-max-content-width);\n            width: var(--_sitch_max-content-width);\n            height: 100%; \n            will-change: right;                       \n          }\n          #_sitch_embed._sitch_show #_sitch_iframe-container {                        \n            right: 0;\n          }     \n          #_sitch_iframe {            \n            height: 100%;\n            width: 100%;                                \n            border: none;                      \n          }    \n          #_sitch_loading-spinner-container {            \n            background-color: rgba(0, 0, 0, 0.5);\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: "+(t+1)+";\n            top: 0;\n            left: 0;\n            display: none;\n            justify-conent: center;\n            align-items: center;\n          }    \n          #_sitch_embed._sitch_loading #_sitch_loading-spinner-container {\n            display: flex;            \n          }                        \n          #_sitch_loader,\n          #_sitch_loader:after {\n            border-radius: 50%;\n            width: 10em;\n            height: 10em;\n          }\n          #_sitch_loader {\n            margin: 60px auto;\n            font-size: 10px;\n            position: relative;\n            text-indent: -9999em;\n            border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n            border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n            border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n            border-left: 1.1em solid #fff;\n            -webkit-transform: translateZ(0);\n            -ms-transform: translateZ(0);\n            transform: translateZ(0);\n            -webkit-animation: _sitch_load8 1.1s infinite linear;\n            animation: _sitch_load8 1.1s infinite linear;\n          }\n          @-webkit-keyframes _sitch_load8 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }\n          @keyframes _sitch_load8 {\n            0% {\n              -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n            }\n            100% {\n              -webkit-transform: rotate(360deg);\n              transform: rotate(360deg);\n            }\n          }          \n          ",i.appendChild(o);var s=document.getElementById("_sitch_embed"),r=document.getElementById("_sitch_full-screen-dimmer"),a=document.getElementById("_sitch_iframe");if(s&&r){var d,c,h,l=function(){document.body.classList.toggle("_sitch_show"),s.classList.toggle("_sitch_show")},_=function(){var t=Boolean(h&&h<(e.innerWidth>0?e.innerWidth:screen.width));document.documentElement.style.setProperty("--_sitch_max-content-width",t?h+"px":"100vw"),document.documentElement.style.setProperty("--_sitch_negative-max-content-width",t?-1*h+"px":"-100vw")};r.onclick=l;var m=function(){var t=e.innerWidth>0?e.innerWidth:screen.width;h>t&&(h=0)};e.addEventListener("resize",m),e.addEventListener("message",(function(t){if(["https://sitch.app","https://sitch-client-test.web.app/","http://localhost:8081"].includes(t.origin))switch(t.data){case"_sitch_fullscreen":return document.documentElement.style.setProperty("--_sitch_max-content-width","100vw"),void document.documentElement.style.setProperty("--_sitch_negative-max-content-width","100vw");case"_sitch_shrink":return void _();case"_sitch_close":return _(),document.body.classList.remove("_sitch_show"),void s.classList.remove("_sitch_show");case"_sitch_loaded":return void s.classList.remove("_sitch_loading")}}),!1),m(),(_sitch_reinitializeButtons=function(){document.querySelectorAll(".sitch-activation-button").forEach((function(t){var e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),e.style.cursor="pointer";var n=function(){if(d=e.dataset.sitchId,c=e.dataset.sitchCustomId,h=Number(e.dataset.sitchMaxWidth)||0,_(),a&&(d||c)){var t=c?"https://sitch.app/"+c+"/?e=true&ew="+h+"&v=5":"https://sitch.app/s/"+d+"/?e=true&ew="+h+"&v=5";a.src!==t&&(s.classList.add("_sitch_loading"),a.src=t)}else alert("This button does not have the required Sitch fields.")};e.onclick=l,e.onmouseover=n,e.onfocus=n}))})()}};"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",(function(){n()}))}};exports.initializeSitchButtons=initializeSitchButtons;
